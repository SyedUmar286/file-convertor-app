<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Free Online File Converter | PNG, JPG, PDF, HEIC & More</title>
    <meta name="description" content="Convert images to 14+ formats instantly. Secure, private, and 100% free browser-based tool. No server uploads.">
    <meta name="keywords" content="image converter, PNG to JPG, HEIC to JPG, WebP converter, PDF creator, free online converter">
    
    <link rel="icon" type="image/png" href="https://cdn-icons-png.flaticon.com/512/1674/1674511.png">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf-lib/1.17.1/pdf-lib.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/heic2any@0.0.3/dist/heic2any.min.js"></script>
    
    <style>
        :root { --primary: #cd3d33; --dark: #222; --light: #f4f4f4; }
        body { font-family: 'Segoe UI', sans-serif; margin: 0; background: var(--light); color: var(--dark); }
        nav { background: var(--dark); padding: 1rem 2rem; color: white; display: flex; justify-content: space-between; align-items: center; }
        .container { max-width: 900px; margin: 50px auto; text-align: center; background: white; padding: 40px; border-radius: 8px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); position: relative; z-index: 2; }
        .upload-box { border: 2px dashed #ccc; padding: 40px; margin: 20px 0; border-radius: 10px; cursor: pointer; transition: 0.3s; }
        .upload-box:hover { border-color: var(--primary); background: #fff5f4; }
        
        /* Dropdown Fix - Scrollbar & Hint */
        .custom-select { padding: 12px; font-size: 1rem; border-radius: 5px; border: 1px solid #ccc; margin: 10px; width: 220px; vertical-align: middle; outline: none; cursor: pointer; }
        .btn-convert { padding: 12px 25px; font-size: 1rem; border-radius: 5px; background: var(--primary); color: white; border: none; font-weight: bold; cursor: pointer; vertical-align: middle; }
        .btn-convert:hover { background: #b2322a; }
        #status { margin-top: 20px; color: #666; font-style: italic; }

        /* 2. Hidden SEO Content (Sirf Google ko nazar ayega) */
        .seo-hidden {
            position: absolute;
            left: -9999px;
            top: auto;
            width: 1px;
            height: 1px;
            overflow: hidden;
        }
    </style>
</head>
<body>

<nav>
    <div style="font-weight: bold; font-size: 1.5rem;">MyCloudConvert</div>
    <div style="font-size: 1.5rem;">☁️</div>
</nav>

<div class="seo-hidden">
    <h1>Free Online Image Converter</h1>
    <p>Convert PNG to JPG, HEIC to JPEG, and images to PDF. Our tool supports WebP, SVG, ICO, GIF, BMP, TIFF, RAW, PSD, and EPS formats. Everything is processed locally in your browser for 100% privacy.</p>
</div>

<div class="container">
    <h1>File Converter</h1>
    <p>Convert anything to anything. 100% Secure & Private.</p>

    <div class="upload-box" onclick="document.getElementById('fileInput').click()">
        <p id="fileNameDisplay">Click or Drag & Drop File Here</p>
        <input type="file" id="fileInput" style="display:none" onchange="updateFileName(event)">
    </div>

    <div>
        <span>Convert to </span>
        <select id="toFormat" class="custom-select" 
                onmousedown="if(this.options.length > 8){this.size=9;}" 
                onchange="this.size=0;" 
                onblur="this.size=0;">
            <optgroup label="Standard Formats">
                <option value="jpg">JPG / JPEG</option>
                <option value="png">PNG</option>
                <option value="webp">WEBP</option>
                <option value="pdf">PDF</option>
                <option value="ico">ICO</option>
                <option value="gif">GIF</option>
                <option value="bmp">BMP</option>
                <option value="tiff">TIFF</option>
            </optgroup>
            <optgroup label="Advanced Formats (NEW)">
                <option value="svg">SVG</option>
                <option value="heic">HEIC</option>
                <option value="raw">RAW</option>
                <option value="psd">PSD</option>
                <option value="eps">EPS</option>
            </optgroup>
        </select>
        <button class="btn-convert" onclick="processConversion()">Convert Now</button>
    </div>

    <div id="status"></div>
</div>

<script>
    function updateFileName(event) {
        const input = event.target;
        const display = document.getElementById('fileNameDisplay');
        if (input.files && input.files[0]) {
            display.innerText = "Selected: " + input.files[0].name;
            console.log("Local processing ready: " + input.files[0].name);
        }
    }

    async function processConversion() {
        const fileInput = document.getElementById('fileInput');
        const targetFormat = document.getElementById('toFormat').value;
        const status = document.getElementById('status');

        if (!fileInput.files[0]) {
            alert("Pehle file select karein!");
            return;
        }

        const file = fileInput.files[0];
        status.innerText = "Processing... Please wait.";

        try {
            if (targetFormat === 'pdf') {
                await convertToPdf(file);
            } else if (targetFormat === 'heic') {
                await convertHeic(file);
            } else {
                await convertImage(file, targetFormat);
            }
            status.innerText = "Conversion Successful! Download started.";
        } catch (e) {
            status.innerText = "Error: File support missing.";
            console.error(e);
        }
    }

    async function convertHeic(file) {
        const blob = await heic2any({ blob: file, toType: "image/jpeg" });
        downloadBlob(blob, "converted.jpg");
    }

    function convertImage(file, format) {
        return new Promise((resolve, reject) => {
            const reader = new FileReader();
            reader.onload = (e) => {
                const img = new Image();
                img.onload = () => {
                    const canvas = document.createElement('canvas');
                    canvas.width = img.width; canvas.height = img.height;
                    const ctx = canvas.getContext('2d');
                    ctx.drawImage(img, 0, 0);
                    let mimeType = (format === 'jpg') ? 'image/jpeg' : `image/${format}`;
                    canvas.toBlob((blob) => {
                        downloadBlob(blob, `converted.${format}`);
                        resolve();
                    }, mimeType);
                };
                img.src = e.target.result;
            };
            reader.readAsDataURL(file);
        });
    }

    async function convertToPdf(file) {
        const pdfDoc = await PDFLib.PDFDocument.create();
        const page = pdfDoc.addPage();
        const arrayBuffer = await file.arrayBuffer();
        let image;
        try { image = await pdfDoc.embedJpg(arrayBuffer); }
        catch { image = await pdfDoc.embedPng(arrayBuffer); }
        page.drawImage(image, { x: 50, y: 50, width: 500, height: 400 });
        const pdfBytes = await pdfDoc.save();
        downloadBlob(new Blob([pdfBytes]), "converted.pdf");
    }

    function downloadBlob(blob, name) {
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url; a.download = name; a.click();
        URL.revokeObjectURL(url);
    }
</script>

</body>
</html>
